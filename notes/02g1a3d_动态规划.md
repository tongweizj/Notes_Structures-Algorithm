## 算法定义

动态规划(dynamic programming)是运筹学的一个分支，是用来解决‘决策过程(decision process)最优化’的数学方法。

20世纪50年代初美国数学家R.E.Bellman等人在研究多阶段决策过程(multistep decision process)的优化问题时，提出了著名的最优化原理(principle of optimality)，把多阶段过程转化为一系列单阶段问题，利用各阶段之间的关系，逐个求解，创立了解决这类过程优化问题的新方法——动态规划。

1957年出版了他的名著《Dynamic Programming》，这是该领域的第一本著作。

### 算法描述

核⼼思想是穷举求最值

1. 把原问题分解为相对简单的子问题
2. 解出子问题
3. 再合并子问题的解，得出原问题的解。 

优势
- 时间复杂度 小

通常子问题非常相似
动态规划算法试图只解决一次子问题，则将其记忆化存储
以便下次需要同一个子问题解之时直接查表。 

这种做法在重复子问题的数目关于输入的规模呈指数增长时特别有用。 

### 常见问题

求最值：
- 求最⻓递增⼦序列
- 最⼩编辑距离

## 关键词

1.  最优子结构
如果问题的最优解所包含的子问题的解也是最优的，我们就称该问题具有最优子结构性质。

最优子结构性质为动态规划算法解决问题提供了重要线索。

2.  重叠⼦问题
子问题重叠性质是指在用递归算法自顶向下对问题进行求解时，每次产生的子问题并不总是新问题，有些子问题会被重复计算多次。

动态规划算法正是利用了这种子问题的重叠性质，对每一个子问题只计算一次，然后将其计算结果保存在一个表格中，当再次需要计算已经计算过的子问题时，只是在表格中简单地查看一下结果，从而获得较高的效率。  

3. 状态转移⽅程
根据上一阶段的决策和状态来导出本阶段的状态。

4.  无后效性
即某阶段状态一旦确定，就不受这个状态以后决策的影响。
也就是说，某状态以后的过程不会影响以前的状态，只与当前状态有关。  
   
## 解题步骤

1.  划分
按照问题的特征，把问题分为若干阶段。
注意：划分后的阶段一定是有序的或者可排序的  
   
2.  确定状态和状态变量
将问题发展到各个阶段时所处的各种不同的客观情况表现出来。
状态的选择要满足无后续性 

3.  确定决策并写出状态转移方程
根据相邻两个阶段状态之间的联系来确定决策方法和状态转移方程  
思维框架：
    明确 base case -> 明确「状态」-> 明确「选择」 -> 定义 dp 数组/函数的含义。

4. 边界条件
状态转移方程是一个递推式，因此需要找到递推终止的条件  
 
**即：**

【初始状态】→【决策1】→【决策2】→…→【决策n】→【结束状态】

_注意：_

1.  问题阶段
2.  每个阶段的状态
3.  相邻两个阶段之间的递归关系

## 斐波那契数列

### 数列描述
#### 从数学上
**斐波那契数**是以递归的方法来定义：
-   F0=0
-   F1=1
-   Fn=Fn−1+Fn−2 (n>=2)

#### 从文字上
斐波那契数列由0和1开始，
之后的斐波那契数就是由之前的两数相加而得出。

首几个斐波那契数是：
1，1, 2，3，4，5，8，13，21，34，55，89

**特别指出**：[0](https://zh.wikipedia.org/wiki/0 "0")不是第一项，而是第零项。

### 代码实现
全代码可见‘./code/fibonacci.js’
v1：原始递归
```js
function fib(N) {
  if (N == 1 || N == 2) return 1;
  return fib(N - 1) + fib(N - 2);
}
```

v2: 增加备忘录递归
```js
function fib2(N) {
  // 备忘录全初始化为 0
  let memo = new Array(N + 1).fill(0);
  // 进⾏带备忘录的递归
  return helper(memo, N);
}

function helper(memo, n) {
  // base case
  if (n == 0 || n == 1) return n;
  // 已经计算过，不⽤再计算了
  if (memo[n] != 0) return memo[n];
  memo[n] = helper(memo, n - 1) + helper(memo, n - 2);
  return memo[n];
}
```

v1 在我的电脑上是跑不出 n=100 的情况的
v2 可以跑出
这其中的差别就是，v2 减少了大量的重叠子问题
看下图
![[Pasted image 20230411163529.png]]

v3: 动态规划：dp 数组的迭代（递推）解法
